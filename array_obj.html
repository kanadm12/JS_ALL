<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div><h1>array object manager</h1></div>
    <div id="arrayDisplay">Current Array: [] (size: 0)</div>
    <section>
        <h3>set array size</h3>
        <input type="number" id="setSize">
        <button id="setSizeBtn">set size</button>
        <p id="sizeMsg"></p>
    </section>
    <section>
        <h3>add elements</h3>
        <input type="text" id="addElement">
        <button id="addElementBtn">add element</button>
        <p id="addMsg"></p>
    </section>
    <section>
        <h3>check if element is array</h3>
        <input type="number" id="checkIndex">
        <button id="checkButton">check</button>
        <p id="checkMsg"></p>
    </section>
    <script>
        let arr=[];
        function showMsg(elementId,text){
            document.getElementById(elementId).textContent=text;
        }
        function parseValue(value){
    let trimmed = value.trim();
    if(trimmed === '') return null;

    if((trimmed.startsWith('"') && trimmed.endsWith('"')) || 
       (trimmed.startsWith("'") && trimmed.endsWith("'"))){
        return trimmed.slice(1,-1);
    }
    
    try {
        return JSON.parse(trimmed);
    } catch(e) {
        
        if(!isNaN(trimmed) && String(Number(trimmed)) === trimmed){
            return Number(trimmed);
        }
        
        return trimmed;
    }
}

        function updateDisplay(){
            const arrayDisplay = document.getElementById('arrayDisplay');
            arrayDisplay.textContent=`Current Array: [${arr.map(x=>JSON.stringify(x)).join(', ')}] (size: ${arr.length})`;
        }

        document.getElementById('setSizeBtn').addEventListener('click',function(){
            const size = parseInt(document.getElementById('setSize').value);
            const msg = document.getElementById('sizeMsg');
            if(isNaN(size) || size<0){
                msg.textContent="please enter valid array size."
                return;
            }
            arr=new Array(size).fill(undefined);
            msg.textContent=`array size set to ${size}. now you can add elements.`;
            updateDisplay();
        });

        document.getElementById('addElementBtn').addEventListener('click',function(){
            const element = parseValue(document.getElementById('addElement').value);
            const msg = document.getElementById('addMsg');
            const emptyIndex = arr.indexOf(undefined);
            if(emptyIndex===-1){
                msg.textContent="array is full. cannot add more elements.";
                return;
            }
            else if(element===null){
                msg.textContent="please enter valid element.";
                return;
            }
            arr[emptyIndex]=element;
            msg.textContent=`element added at index ${emptyIndex}.`;
            document.getElementById('addElement').value = ''; // clear input
            updateDisplay();
        });

        document.getElementById('checkButton').addEventListener('click',function(){
            const index = parseInt(document.getElementById('checkIndex').value);
            const msg = document.getElementById('checkMsg');
            if(isNaN(index) || index<0 || index>=arr.length){
                msg.textContent="please enter valid index.";
                return;
            }
            if(Array.isArray(arr[index])){
                msg.textContent=`element at index ${index} is an array.`;
            } else {
                msg.textContent=`element at index ${index} is not an array.`;
            }
        });

        // Initial display
        updateDisplay();
    </script>
</body>
</html>